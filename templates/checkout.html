{% extends 'base.html' %}

{% block title %}Finalizar Pedido{% endblock %}

{# Se houver scripts JS específicos para a página de checkout, inclua-os aqui no final do body #}
{% block body_extra_scripts %}

{% endblock %}

{% block content %}
    <div class="main-content"> {# Envolvendo o conteúdo em um container #}
        <h1>Finalizar Pedido</h1>

        <h2>Resumo do Pedido</h2>
        <ul class="checkout-items-list"> {# Nova classe para estilização específica #}
            {% for item in itens %}
                <li>{{ item.marmita.nome }} - {{ item.quantidade }}x - **R$ {{ item.subtotal|round(2) }}**</li>
            {% endfor %}
        </ul>
        <strong class="checkout-total">Total: R$ {{ total|round(2) }}</strong>


        <hr>

        <form method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <label>Forma de pagamento:</label><br>
            <label><input type="radio" name="pagamento" value="Cartão" required> Cartão</label><br>
            <label><input type="radio" name="pagamento" value="Pix" onclick="toggleTroco()"> Pix</label><br>

            {# Adicione o campo de troco aqui, se você usa a funcionalidade de Pix com troco #}
            {# <div id="campoTroco" style="display: none;">
                <label for="valor_pago">Valor Pago (para troco):</label><br>
                <input type="number" step="0.01" name="valor_pago" id="valor_pago">
            </div> #}

            <button type="submit">Confirmar Pedido</button>
        </form>

        <div class="text-center-link"> {# Para centralizar o botão de voltar #}
            <a href="{{ url_for('main.index') }}" class="btn-voltar">← Voltar ao Cardápio</a>
        </div>
    </div>
{% endblock %}